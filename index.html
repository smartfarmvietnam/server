
<!DOCTYPE html>
<!--
* CoreUI - Free Bootstrap Admin Template
* @version v2.1.15
* @link https://coreui.io
* Copyright (c) 2018 creativeLabs Łukasz Holeczek
* Licensed under MIT (https://coreui.io/license)
-->

<html lang="en">
  <head>
    <base href="./">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>CoreUI Free Bootstrap Admin Template</title>
    <!-- Main styles for this application-->
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style2.css">
  </head>
  <body class="app header-fixed sidebar-fixed aside-menu-fixed sidebar-lg-show">
        <div class="container-fluid">
          <div class="animated fadeIn">
            <div class="row">
              <div class="col-sm-6 col-lg-3">
                <div class="card text-white bg-primary">
                  <div class="card-body pb-0">
                    <div class="btn-group float-right">
                      <!-- <button class="btn btn-transparent dropdown-toggle p-0" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="icon-settings"></i>
                      </button> -->
                      <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <a class="dropdown-item" href="#">Something else here</a>
                      </div>
                    </div>
                    <!-- <div class="text-value">9.823</div> -->
                    <div class="text-value">SmartFarm</div>
                  </div>
                  <div class="chart-wrapper mt-3 mx-3" style="height:70px;">
                    <canvas class="chart" id="card-chart1" height="70"></canvas>
                  </div>
                </div>
              </div>
              <div class="col-sm-6 col-lg-3">
                <div class="card text-white bg-info">
                  <div class="card-body pb-0">
                    <!-- <button class="btn btn-transparent p-0 float-right" type="button">
                      <i class="icon-location-pin"></i>
                    </button> -->
                    <div class="text-value">AquaPhonix</div>
                    <!-- <div></div>     -->
                  </div>
                  <div class="chart-wrapper mt-3 mx-3" style="height:70px;">
                    <canvas class="chart" id="card-chart2" height="70"></canvas>
                  </div>
                </div>
              </div>
              <div class="col-sm-6 col-lg-3">
                <div class="card text-white bg-warning">
                  <div class="card-body pb-0">
                    <div class="btn-group float-right">
                      <button class="btn btn-transparent dropdown-toggle p-0" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="icon-settings"></i>
                      </button>
                      <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <a class="dropdown-item" href="#">Something else here</a>
                      </div>
                    </div>
                    <div class="text-value">Hi</div>
                    <!-- <div>Members online</div> -->
                  </div>
                  <div class="chart-wrapper mt-3" style="height:70px;">
                    <canvas class="chart" id="card-chart3" height="70"></canvas>
                  </div>
                </div>
              </div>
              <div class="col-sm-6 col-lg-3">
                <div class="card text-white bg-danger">
                  <div class="card-body pb-0">
                    <div class="btn-group float-right">
                      <!-- <button class="btn btn-transparent dropdown-toggle p-0" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="icon-settings"></i>
                      </button> -->
                      <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <a class="dropdown-item" href="#">Something else here</a>
                      </div>
                    </div>
                    <div class="text-value">9.</div>
                    <!-- <div>Members online</div> -->
                  </div>
                  <div class="chart-wrapper mt-3 mx-3" style="height:70px;">
                    <canvas class="chart" id="card-chart4" height="70"></canvas>
                  </div>
                </div>
              </div>
              <!-- /.col-->
            </div>
            <div class="card">
                    <div class="card-body">
                      <div class="row">
                        <div class="col-sm-5">
                          <h4 class="card-title mb-0">SmartFarm</h4>
                          <div class="small text-muted">data</div>
                        </div>
                        <!-- /.col-->
                        <div class="col-sm-7 d-none d-md-block">
                          <button class="btn btn-primary float-right" type="button">
                            <i class="icon-cloud-download"></i>
                          </button>
                          <div class="btn-group btn-group-toggle float-right mr-3" data-toggle="buttons">
                            <label class="btn btn-outline-secondary">
                              <input id="option1" type="radio" name="options" autocomplete="off"> Day
                            </label>
                            <label class="btn btn-outline-secondary active">
                              <input id="option2" type="radio" name="options" autocomplete="off" checked=""> Month
                            </label>
                            <label class="btn btn-outline-secondary">
                              <input id="option3" type="radio" name="options" autocomplete="off"> Year
                            </label>
                          </div>
                        </div>
                        <!-- /.col-->
                      </div>
                      <!-- /.row-->
                      <div class="chart-wrapper" style="height:300px;margin-top:40px;">
                        <div id="data_show" style="font-size:100px"></div>
                      </div>
                    </div>
                    <div class="card-footer smartfarm">
                      <div class="row text-center">
                        <!-- <div class="col-sm-12 col-md mb-sm-2 mb-0">
                          <div class="text-muted">Visits</div>
                          <strong>29.703 Users (40%)</strong>
                          <div class="progress progress-xs mt-2">
                            <div class="progress-bar bg-success" role="progressbar" style="width: 40%" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
                          </div>
                        </div> -->
                        <div class="col-sm-12 col-md mb-sm-2 mb-0">
                          <div class="text-muted">humid</div>
                          
                          <label class="btn btn-outline-secondary humid_btn">
                          </label>
                          <div id="sf_h"></div>
                          <div class="progress progress-xs mt-2">
                            <div class="progress-bar bg-info" id='sf_h_bar' role="progressbar" style="width: 20%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                          </div>
                        </div>
                        <div class="col-sm-12 col-md mb-sm-2 mb-0">
                          <div class="text-muted">?</div>
                          <strong>aqua_ph</strong>
                          
                          <label class="btn btn-outline-secondary ph_btn">
                          </label>
                          <div id="aqua_ph"></div>
                          <div class="progress progress-xs mt-2">
                            <div class="progress-bar bg-warning" id='sf_h_bar' role="progressbar" style="width: 60%" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                          </div>
                        </div>
                        <div class="col-sm-12 col-md mb-sm-2 mb-0">
                          <div class="text-muted">?</div>
                          <strong>(80%)</strong>
                          <div class="progress progress-xs mt-2">
                            <div class="progress-bar bg-danger" id='sf_h_bar' role="progressbar" style="width: 80%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                          </div>
                        </div>
                        <div class="col-sm-12 col-md mb-sm-2 mb-0">
                          <div class="text-muted">?</div>
                          <strong>(40%)</strong>
                          <div class="progress progress-xs mt-2">
                            <div class="progress-bar" id='sf_h_bar' role="progressbar" style="width: 40%" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
                          </div>
                        </div>
                      </div>
                    </div>
            </div>
          </div>
        </div>
     
    <!-- CoreUI and necessary plugins-->
    <script src="/jq/jquery.min.js"></script>
    <!-- <script src="node_modules/popper.js/dist/umd/popper.min.js"></script> -->
    <script src="/bs/bootstrap.min.js"></script>
    <script>
    //     async function getData() {
    //     let x = document.getElementsByClassName('');
    //     try {
    //         let res = await fetch(`http://localhost:3000/get_humid`, {
    //             method: 'GET'
    //         });
    //         let data = await res.json();
    //         console.log(res);
    //         data.map(item => {
    //             let block = item.humid;
    //             x.innerHTML += block;
    //         });
    //     } catch (e) {
    //     }
    // }
    // getData();
        $('.humid_btn').on('click', (event)=>{
            // get_humid();
            clearInterval();
            setInterval(()=>{
                get_humid();
            },3000);
        })
        
        $('.ph_btn').on('click', (event)=>{
            // get_humid();
            clearInterval();
            setInterval(()=>{
                get_aqua_ph();
            },2000);
        })

        async function get_aqua_ph(){
            console.log("aqua");
        $.ajax({
            url:"http://192.168.43.223:3000/get_ph",
            type:"GET",
            dataType:"json"

        })
        .done( function (data){
            var a =  data[0].ph;
            console.log(data);
            $('#data_show').empty();
            $('#data_show').append(a+'%');
            $('#aqua_ph').empty();
            $('#aqua_ph').append('<strong>'+a+'%</strong>');

        });
        }



        async function get_humid(){
            console.log("click");
        $.ajax({
            url:"http://192.168.43.223:3000/get_humid",
            type:"GET",
            dataType:"json"

        })
        .done( function (data){
            var a =  data[0].humid;
            console.log(data);
            $('#data_show').empty();
            $('#data_show').append(a+'%');
            $('#sf_h').empty();
            $('#sf_h').append('<strong>'+a+'%</strong>');

        });
        }
    </script>
  </body>
</html>
