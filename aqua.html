
<!DOCTYPE html>
<!--
* CoreUI - Free Bootstrap Admin Template
* @version v2.1.15
* @link https://coreui.io
* Copyright (c) 2018 creativeLabs Łukasz Holeczek
* Licensed under MIT (https://coreui.io/license)
-->
<html lang="en">
  <head>
    <base href="./aqua">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>CoreUI Free Bootstrap Admin Template</title>
    <!-- Main styles for this application-->
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style2.css">
  </head>
  <body class="app header-fixed sidebar-fixed aside-menu-fixed sidebar-lg-show">
      <div class = "selectFarm">
        <div class="container-fluid">
          <div class="animated fadeIn">
            <div class="row">
              <div class="col" id ="farm_btn">
                <div class="card text-white bg-primary"  style = "height: 70px">
                  <div class="card-body pb-0">
                    <!-- <div class="text-value">9.823</div> -->
                    <div class="text-value" style="text-align: center">SmartFarm</div>
                  </div>
                  <div class="chart-wrapper mt-3 mx-3">
                    <canvas class="chart" id="card-chart1" height="70"></canvas>
                  </div>
                </div>
              </div>

              <div class="col" id = "aqua_btn">
                <div class="card text-white bg-info" style = "height: 70px; margin-left: -20px;">
                  <div class="card-body pb-0">
                    <!-- <button class="btn btn-transparent p-0 float-right" type="button">
                      <i class="icon-location-pin"></i>
                    </button> -->
                    <div class="text-value" style="text-align: center">AquaPhonix</div>
                    <!-- <div></div>     -->
                  </div>
                  <div class="chart-wrapper mt-3 mx-3">
                    <canvas class="chart" id="card-chart2" height="70"></canvas>
                  </div>
                </div>
              </div>
             </div>
            </div>
              <!-- /.col-->
            </div>
         </div>
            <div class="card">
                <div class="card-body">
                    <div class="row">
                      <div class="col-sm-5">
                        <h4 class="card-title mb-0">Bio Tank</h4>
                        <div class="small text-muted">data</div>
                      </div>
                    </div>
                      <!-- /.row-->
                      
                      <div class="chart-wrapper" >
                          <!-- <div id="data_show" style="font-size:50px">2019.08.20 08:55</div> -->
                          <!-- 여기다 넣기 -->
                       <div class="data_list">
                          <div class="col-sm-12 col-md mb-sm-2 mb-0">
                              <div class="text-muted1"><strong>머새갸(80%)</strong></div>
                              <div class="progress progress-xs mt-2" style="height: 30px;">
                                <div class="progress-bar bg-warning" id='aq_b_temp' role="progressbar" style="width: 50%"aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                              </div>
                          </div>
                          <div class="col-sm-12 col-md mb-sm-2 mb-0">
                            <div class="text-muted2">?  <strong>(80%)</strong></div>
                             
                            <div class="progress progress-xs mt-2" style="height: 30px;">
                              <div class="progress-bar" id='aq_b_ph' role="progressbar" style="width: 50%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                          </div>
                          <div class="col-sm-12 col-md mb-sm-2 mb-0">
                              <div class="text-muted3">? <strong>(80%)</strong></div>
                                
                              <div class="progress progress-xs mt-2" style="height: 30px;">
                                <div class="progress-bar bg-danger" id='aq_b_do' role="progressbar" style="width: 60%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                              </div>
                          </div>
                          <div class="col-sm-12 col-md mb-sm-2 mb-0">
                              <div class="text-muted4">?   <strong>(80%)</strong></div>
                              
                              <div class="progress progress-xs mt-2" style="height: 30px;">
                                <div class="progress-bar bg-info" id='aq_n_ec' role="progressbar" style="width: 10%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                              </div>
                          </div>
                       </div>  
                     </div>
                  </div>
                  <div class="card-body">
                    <div class="row">
                      <div class="col-sm-5">
                        <h4 class="card-title mb-0">Fish Tank</h4>
                        <div class="small text-muted">data</div>
                      </div>
                    </div>
                      <!-- /.row-->
                      
                      <div class="chart-wrapper" >
                          <!-- 여기다 넣기 -->
                       <div class="data_list">
                          <div class="col-sm-12 col-md mb-sm-2 mb-0">
                              <div class="text-muted5"><strong>머새갸(80%)</strong></div>
                             
                              <div class="progress progress-xs mt-2" style="height: 30px;">
                                <div class="progress-bar bg-warning" id='aq_f_temp' role="progressbar" style="width: 50%"aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                              </div>
                          </div>
                          <div class="col-sm-12 col-md mb-sm-2 mb-0">
                            <div class="text-muted6">?  <strong>(80%)</strong></div>
                             
                            <div class="progress progress-xs mt-2" style="height: 30px;">
                              <div class="progress-bar" id='aq_f_ph' role="progressbar" style="width: 50%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                          </div>
                          <div class="col-sm-12 col-md mb-sm-2 mb-0">
                              <div class="text-muted7">? <strong>(80%)</strong></div>
                                
                              <div class="progress progress-xs mt-2" style="height: 30px;">
                                <div class="progress-bar bg-danger" id='aq_f_do' role="progressbar" style="width: 60%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                              </div>
                          </div>
                          <div class="col-sm-12 col-md mb-sm-2 mb-0">
                              <div class="text-muted8">?   <strong>(80%)</strong></div>
                              
                              <div class="progress progress-xs mt-2" style="height: 30px;">
                                <div class="progress-bar bg-info" id='aq_f_ec' role="progressbar" style="width: 10%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                              </div>
                          </div>
                       </div>  
                     </div>
                  </div>
                  
              </div>  
              
             
    
    <!-- CoreUI and necessary plugins-->
    <script src="/jq/jquery.min.js"></script>
    <!-- <script src="node_modules/popper.js/dist/umd/popper.min.js"></script> -->
    <script src="/bs/bootstrap.min.js"></script>
    <script>
    let time = new Date();
    
    //     async function getData() {
    //     let x = document.getElementsByClassName('');
    //     try {
    //         let res = await fetch(`http://localhost:3000/get_humid`, {
    //             method: 'GET'
    //         });
    //         let data = await res.json();
    //         console.log(res);
    //         data.map(item => {
    //             let block = item.humid;
    //             x.innerHTML += block;
    //         });
    //     } catch (e) {
    //     }
    // }
    // getData();
    document.getElementById('farm_btn').addEventListener('click' , e => location.href="/");
    document.getElementById('aqua_btn').addEventListener('click' , e => location.href="/aqua");



    //여기 밑으로 수정할거임 ㅇㅋ?
    function get_smarttemp() {
      //
    }    
      
    function get_data(){
          // console.log("click");
      $.ajax({
          url:"http://localhost:3000/get_aqau_bio",
          type:"GET",
          dataType:"json"
      })
      .done( function (data){
          let wtemp =  data[0].wtemp;
          let ec = data[0].ec;
          let wdo =  data[0].do;
          let ph = data[0].ph;
          console.log(data);
          $('.text-muted1').empty();
          $('.text-muted1').append("temperature : "+wtemp+"°C");
          $('#aq_b_temp').width(wtemp+"%");
          $('.text-muted2').empty();
          $('.text-muted2').append("ph : "+ph);
          $('#aq_b_ph').width(parseFloat(ph)*10+"%");
          $('.text-muted3').empty();
          $('.text-muted3').append("D.O : "+wdo);
          $('#aq_b_do').width(parseFloat(wdo)+"%");
          $('.text-muted4').empty();
          $('.text-muted4').append("E.C : "+ec);
          $('#aq_b_ec').width(parseFloat(ec)+"%");
      });
      $.ajax({
          url:"http://localhost:3000/get_aqau_fish",
          type:"GET",
          dataType:"json"
      })
      .done( function (data){
          let wtemp =  data[0].wtemp;
          let ec = data[0].ec;
          let wdo =  data[0].do;
          let ph = data[0].ph;
          console.log(data);
          $('.text-muted5').empty();
          $('.text-muted5').append("temperature : "+wtemp+"°C");
          $('#aq_f_temp').width(wtemp+"%");
          $('.text-muted6').empty();
          $('.text-muted6').append("ph : "+ph);
          $('#aq_f_ph').width(parseFloat(ph)*10+"%");
          $('.text-muted7').empty();
          $('.text-muted7').append("D.O : "+wdo);
          $('#aq_f_do').width(parseFloat(wdo)+"%");
          $('.text-muted8').empty();
          $('.text-muted8').append("E.C : "+ec);
          $('#aq_f_ec').width(parseFloat(ec)+"%");
      });
    }
    get_data()
    setInterval(get_data,5000);
    
      
    </script>
  </body>
</html>